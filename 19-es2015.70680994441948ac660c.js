(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{FUe0:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(i||(i={}));class o extends Error{constructor(e,t){super(e),this.message=e,this.code=t}}const r=(e=>e.Capacitor=(e=>{var t,n,r,a,s;const l=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},d=c.Plugins=c.Plugins||{},u=e.CapacitorPlatforms,f=(null===(t=null==u?void 0:u.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==l?l.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),h=(null===(n=null==u?void 0:u.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==f()),p=(null===(r=null==u?void 0:u.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(e=>{const t=b.get(e);return!!(null==t?void 0:t.platforms.has(f()))||!!v(e)}),v=(null===(a=null==u?void 0:u.currentPlatform)||void 0===a?void 0:a.getPluginHeader)||(e=>{var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)}),b=new Map,w=(null===(s=null==u?void 0:u.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((e,t={})=>{const n=b.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const r=f(),a=v(e);let s;const u=n=>{let d;const u=(...u)=>{const f=(async()=>(!s&&r in t?s=s="function"==typeof t[r]?await t[r]():t[r]:null!==l&&!s&&"web"in t&&(s=s="function"==typeof t.web?await t.web():t.web),s))().then(t=>{const s=((t,n)=>{var s,l;if(!a){if(t)return null===(l=t[n])||void 0===l?void 0:l.bind(t);throw new o(`"${e}" plugin is not implemented on ${r}`,i.Unimplemented)}{const i=null==a?void 0:a.methods.find(e=>n===e.name);if(i)return"promise"===i.rtype?t=>c.nativePromise(e,n.toString(),t):(t,i)=>c.nativeCallback(e,n.toString(),t,i);if(t)return null===(s=t[n])||void 0===s?void 0:s.bind(t)}})(t,n);if(s){const e=s(...u);return d=null==e?void 0:e.remove,e}throw new o(`"${e}.${n}()" is not implemented on ${r}`,i.Unimplemented)});return"addListener"===n&&(f.remove=async()=>d()),f};return u.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:n,writable:!1,configurable:!1}),u},h=u("addListener"),p=u("removeListener"),w=(e,t)=>{const n=h({eventName:e},t),i=async()=>{const i=await n;p({eventName:e,callbackId:i},t)},o=new Promise(e=>n.then(()=>e({remove:i})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()},o},m=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return a?w:h;case"removeListener":return p;default:return u(t)}}});return d[e]=m,b.set(e,{name:e,proxy:m,platforms:new Set([...Object.keys(t),...a?[r]:[]])}),m});return c.convertFileSrc||(c.convertFileSrc=e=>e),c.getPlatform=f,c.handleError=t=>e.console.error(t),c.isNativePlatform=h,c.isPluginAvailable=p,c.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),c.registerPlugin=w,c.Exception=o,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),a=r.registerPlugin;class s{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const i=async()=>this.removeListener(e,t),o=Promise.resolve({remove:i});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),o}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>e(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new r.Exception(e,i.Unimplemented)}unavailable(e="not available"){return new r.Exception(e,i.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const i=n.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}},Iab2:function(e,t,n){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,a){var s=o.URL||o.webkitURL,l=document.createElement("a");l.download=r=r||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,r,a):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}}:function(e,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,f=u.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a})?i.apply(t,[]):i)||(e.exports=o)},TUkU:function(e,t,n){"use strict";n.r(t),n.d(t,"Tab2PageModule",(function(){return A}));var i=n("TEn/"),o=n("ofXK"),r=n("3Pt+"),a=n("tyNb"),s=n("mrSG"),l=n("FUe0"),c=n("dTEF");const d=Object(l.d)("Camera",{web:()=>n.e(23).then(n.bind(null,"wzPO")).then(e=>new e.CameraWeb)});var u,f;!function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(u||(u={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(f||(f={}));const h=Object(l.d)("Filesystem",{web:()=>n.e(24).then(n.bind(null,"B5q2")).then(e=>new e.FilesystemWeb)}),p=Object(l.d)("Storage",{web:()=>n.e(25).then(n.bind(null,"srMn")).then(e=>new e.StorageWeb)});var v=n("fXoL");let b=(()=>{class e{constructor(e){this.platform=e,this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=e=>new Promise((t,n)=>{const i=new FileReader;i.onerror=n,i.onload=()=>{t(i.result)},i.readAsDataURL(e)})}loadSaved(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const e=yield p.get({key:this.PHOTO_STORAGE});if(this.photos=JSON.parse(e.value)||[],!this.platform.is("hybrid"))for(let t of this.photos){const e=yield h.readFile({path:t.filepath,directory:u.Data});t.webviewPath=`data:image/jpeg;base64,${e.data}`}}))}addNewToGallery(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const e=yield d.getPhoto({resultType:c.b.Uri,source:c.c.Camera,quality:100}),t=yield this.savePicture(e);this.photos.unshift(t),p.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)})}))}savePicture(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.readAsBase64(e),n=(new Date).getTime()+".jpeg",i=yield h.writeFile({path:n,data:t,directory:u.Data});return this.platform.is("hybrid")?{filepath:i.uri,webviewPath:l.a.convertFileSrc(i.uri)}:{filepath:n,webviewPath:e.webPath}}))}readAsBase64(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){if(this.platform.is("hybrid"))return(yield h.readFile({path:e.path})).data;{const t=yield fetch(e.webPath),n=yield t.blob();return yield this.convertBlobToBase64(n)}}))}deletePicture(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.photos.splice(t,1),p.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)});const n=e.filepath.substr(e.filepath.lastIndexOf("/")+1);yield h.deleteFile({path:n,directory:u.Data})}))}}return e.\u0275fac=function(t){return new(t||e)(v.Rb(i.y))},e.\u0275prov=v.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=n("BZV/"),m=n("6mc2"),g=n("Iab2"),y=n("jhN1"),P=n("tk/3");const O=["filePicker"];function L(e,t){if(1&e&&(v.Nb(0,"ion-card"),v.Nb(1,"ion-card-content"),v.Lb(2,"img",6),v.Mb(),v.Mb()),2&e){const e=v.Xb();v.zb(2),v.cc("src",e.photo,v.jc)}}const E=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,r,a){this.platform=e,this.sanitizer=t,this.photoService=n,this.sessions=i,this.modalCtrl=o,this.tools=r,this.http=a}ngOnInit(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.display=yield this.photoService.loadSaved()}))}dataURLtoFile(e,t,n){const i=e.split(","),o=(i[0].match(/:(.*?);/),atob(i[1]));let r=o.length;const a=new Uint8ClampedArray(r);for(;r--;)a[r]=o.charCodeAt(r);Object(g.saveAs)(new File([a],"11.png",{type:n}))}addPhotoToGallery(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.photoService.addNewToGallery()}))}getPicture(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){if(!l.a.isPluginAvailable("Camera")||this.isDesktop&&"gallery"===e)return console.log(e),void this.filePickerRef.nativeElement.click();const t=yield d.getPhoto({quality:100,width:400,allowEditing:!1,resultType:c.b.DataUrl,source:c.c.Prompt});this.dataURLtoFile(t.dataUrl,"image111",t.format)}))}}return e.\u0275fac=function(t){return new(t||e)(v.Kb(i.y),v.Kb(y.b),v.Kb(b),v.Kb(w.a),v.Kb(i.x),v.Kb(m.a),v.Kb(P.a))},e.\u0275cmp=v.Eb({type:e,selectors:[["app-tab2"]],viewQuery:function(e,t){var n;1&e&&v.sc(O,!0),2&e&&v.fc(n=v.Wb())&&(t.filePickerRef=n.first)},decls:9,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],["horizontal","center","vertical","bottom","slot","fixed"],[3,"click"],["name","camera"],[4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(v.Nb(0,"ion-header",0),v.Nb(1,"ion-toolbar"),v.Nb(2,"ion-title"),v.pc(3," Camera "),v.Mb(),v.Mb(),v.Mb(),v.Nb(4,"ion-content",1),v.Nb(5,"ion-fab",2),v.Nb(6,"ion-fab-button",3),v.Vb("click",(function(){return t.getPicture("Camera")})),v.Lb(7,"ion-icon",4),v.Mb(),v.Mb(),v.nc(8,L,3,1,"ion-card",5),v.Mb()),2&e&&(v.cc("translucent",!0),v.zb(4),v.cc("fullscreen",!0),v.zb(4),v.cc("ngIf",t.photo))},directives:[i.j,i.u,i.t,i.g,i.h,i.i,i.k,o.k,i.d,i.e],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}input[type=file][_ngcontent-%COMP%]{display:none}"]}),e})()}];let T=(()=>{class e{}return e.\u0275mod=v.Ib({type:e}),e.\u0275inj=v.Hb({factory:function(t){return new(t||e)},imports:[[a.i.forChild(E)],a.i]}),e})(),A=(()=>{class e{}return e.\u0275mod=v.Ib({type:e}),e.\u0275inj=v.Hb({factory:function(t){return new(t||e)},imports:[[i.v,o.c,r.a,T]]}),e})()},dTEF:function(e,t,n){"use strict";var i,o,r;n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(i||(i={})),function(e){e.Rear="REAR",e.Front="FRONT"}(o||(o={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(r||(r={}))}}]);